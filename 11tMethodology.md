## Eleventy (11t) Methodology

This is a summary of how to develop a website using Eleventy. [Eleventy](https://www.11ty.dev/docs/0) (11t) is a static site generator. It was created as a JavaScript alternative to Jekyl. It's very flexible and I have chosen to learn this approach because of my frustrations with Hugo, another static site generator.

Here are the steps that I followed in developing the Eleventy version of the [Lake Pointe website](http://lakepointeatwisp.com/).

Before going into the Lkae Pointe website I'm implementing a sample problem site that describes how things operate.

My staring point is [Getting started with Eleventy in 11 minutes](https://dev.to/loige/getting-started-with-eleventy-in-11-minutes-496j).

Create a folder and move into that folder with the command-line.  The folder is called LakePointe3.

I create a project with:

```
npm init -y
```

Next I install eleventy in the folder:

```
npm i --save-dev @11ty/eleventy
```

 Now I create an index file for the Eleventy project with a sample message:

```
echo "# My sample Eleventy website" > index.md
```

To run 11t we have to run a script.  The script is:

```
node_modules/.bin/eleventy --watch --serve
```

For simplicity we can put the script in the "package.json" and give it the short name "start." Here is what the package.json file looks like:

```
{
  "name": "LakePointe3",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "eleventy --watch --serve"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@11ty/eleventy": "^0.12.1"
  }
}

```
 We can now start Eleventy by:

```
npm start
```
The website can now be displayed in a browser at:
 
```
localhost:8080
```
One can create a 'configuration' file that contains information that applies to the whole site. The configuration file is called ".eleventy.js" located in the root folder. Note the "." in front, which makes it an invisible file. In Mac OS, pressing "shift-command-." makes invisible files visible, and again makes them invisible.
For now, of the files necessay to create the website are going to be located in the "./src" folder and the website is generated by 11t and stored in the "./build" folder. Here is the present configuration file:

```
module.exports = function (config) {
  return {
    dir: {
      input: './src',
      output: './build'
    }
  }
}
```

We'll create the ./src folder and move index.md file into "./src". We can also trash the old build folder (_site) if it was created under step 7.

Almost every file is going to have some 'front matter'. Fron matter is data that can be applied to the whole file. All files are templates, meaning data with tokens from a specific template language that specifies how the data is to be rendered in a final form, typically html, although html is also a template language. Various template languages can be invoked and Eleventy determines this by looking at the file extension.

There are various template languages available. The template languages used by me are 'html', 'md', and 'njk'.
For example, to start with, the following file is a 'njk' file that defines how a web page is structured:

```
<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>A new website</title>
</head>
<body>A sample page here</body>
</html>
```

When we save this page as 'page.njk' in the './src' folder we can see it in the browser [by looking at](localhost:8080/page)
The front matter, meta data, of a file is delimited by two "---" (three dashes in the begiing and three dashes at the end).

For example, we can add a 'title' attribute to the front matter in the following way (NOTE: the original article has '--------' as front matter separator.  The front matter separator must have only three dashes):

```
---
title: A NOT SO NEW website
---
<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>{{ title }}</title>
</head>
<body>A sample page here</body>
</html>
```

Note that the frontmatter part can be used straight away in the template using the interpolation syntax of the templating language of choice, {{ variableName }} in the case of Nunjucks, here used as <title>{{ title }}</title>.

You can see in the browser that the title of the website has been chnaged to the title declared in the front matter.

It may be necessary, every once in a while, to trash the build folder manually, beacuse it may contain files that were placed into it from unintended actions performed earlier.

Most of the times, we like to have many of our web pages to have the same look. This is accomplished by defining 'layout' pages. These pages define the structure of the html page and might include the header, the footer, and the content of the body.

The layout pages can be defined by any template language, Nunjucks (.njk) in our case. These layout pages have to be defined in a special folder called '_includes' placed in the same folder as where all of the web pages, markdown pages, are located.

We shall use the following template file for a number of our pages and call it 'base.njk'.

```
---
title: My default title
---
<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>{{ title }}</title>
</head>
<body>
  <main>
    {{ content | safe }}
  </main>
</body>
</html>
```
Note the line between main and /main.  The 'content' variable is a placeholder for the template that contains the content that we want to place in a web page. That content is typically a markdown template.

After the content is specified we want use the filter 'safe' because we want the HTML coming from the template to be applied verbatim (no escaped text).

Let's now modify the 'index.md' file by adding a laout for the page in the front matter.

```
--------
layout: base
--------

# Hello from Eleventy

This is a simple Eleventy demo
```
What about styles? To add style to the text, one has to place the style file in the '_includes' folder. As an example define the following 'style.css' file:

```
html, body {
  background-color: #eee;
  margin: 0;
}

main {
  box-sizing: border-box;
  max-width: 1024px;
  min-height: 100vh;
  padding: 2em;
  margin: 0 auto;
  background: white;
}
```
To make sure it gets copied to the 'build' folder we have to do that via the configuration file, '.eleventy.js' by adding as follows:

```
module.exports = function (config) {
  config.addPassthroughCopy({ './src/_includes/style.css': 'style.css' })

  // ...
}
```
With a styles file defined we have to incorporate it into the header section of the base layout file:

```
---
title: My default title with the layout file
---
<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>{{ title }}</title>
  <link rel="stylesheet" href="/style.css"/>
</head>
<body>
  <main>
    {{ content | safe }}
  </main>
</body>
</html>
```
## Global data files
When building static sites, we generally have some "global" data that we want to be able to reference in our templates and layouts. For example, one might want to keep some site meta data in a single file, such as author information, copyright information, domain name, google analytics ID, etc.

For example lets define the author name and copyright year:

```
'use strict'

module.exports = {
  author: 'Luciano Mammino',
  copyrightYear: (new Date()).getFullYear()
}
```

and save it as "_data/site.js"  The "_data" folder is another special folder. Every js and json file inside it will be pre-processed and made available using the file name (site in this case) as the variable name.

For example, we can update our base layout file in the folowing way:

```
{# ... #}

<main>
  {{ content | safe }}
<hr/>
<small>A website by {{ site.author }} - &copy; {{ site.copyrightYear }}</small>
</main>

{# ... #}
```

## Collections/Lists
When building static sites, it is very very common to have content coming from files that need to be somehow grouped into logical categories. For instance, if it is a blog, we will have a collection of blog posts and we can even group them by topic or by date.

We'll explore an approach here, and to see how it works we need to create a number of sample posts. I've created three sample posts (post1, md, post2, md, and post3.md) in the ./src folder.  Each post has front matter consisting of a title, the name of the layout to be used, and a tag, called 'posts'.

To display all the posts in another template we can do that by accessing the special variable 'collections.post'. For instance we can add the following to src/index.md:

```
{% for post in collections.posts %}
- [{{ post.data.title }}]({{ post.url }})
{% endfor %}
```
The above is a 'for' loop, with the index variable called 'post'. 'collections.post' is an array of front matter data for all pages that have 'posts' listed as a tag and post is the index into the array. 'post.data.title' means the title variable specified in the front matter for the index variable post, and 'post.url' is the url of the post. The 'for' loop is terminated by '{% endfor %}'.

There is also a special collection named 'collections.all' that contains every single template.

Just to see that this works as explained, lets add to each post a variable called 'postdate' and assign it the date it was published and see if we can append the date to each list item. The modified 'for' loop is as follows:

```
{% for post in collections.posts %}
- [{{ post.data.title }}, {{post.data.postdate}}]({{ post.url }})
{% endfor %}
```
And as can be seen in the browser this is the way it works.

The tutorial site that the above was developed from has an additional example on how to use dynamic contect from a website. I currently have no need for that, but it can be accessed here: [Getting started with Eleventy in 11 minutes](https://dev.to/loige/getting-started-with-eleventy-in-11-minutes-496j).

---
---
I want to extend what I've done sofar with new knowledge gained from other websites.

The next site I want to explore is: [Build your own Blog from Scratch using Eleventy](https://www.filamentgroup.com/lab/build-a-blog/)

What I really want to do is to learn Git and keep track of my chnages with Git.

I've come across an excellect tutorial on git: [Git - Lecture 1 - CS50's Web Programming with Python and JavaScript 2020](https://www.youtube.com/watch?v=NcoBAfJ6l2Q). It's unfortunately in video format, which is excllent to follow the argument, but not so good as a written page that can be used as a reference.

I'll first make a copy of LakePointe3 into LakePointe4, then go back and work with 